<!DOCTYPE html>
<html>
<head>
    <title>Invoice Human Review</title>
    <style>
        body { font-family: Arial; margin: 30px; }
        .card { border: 1px solid #ccc; padding: 20px; width: 500px; }
        button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>

<h2>Invoice Human Review</h2>

<div class="card">
    <label>Checkpoint ID:</label>
    <input id="cp" style="width:100%">
    <br><br>

    <label>Reviewer ID:</label>
    <input id="rid" style="width:100%" value="reviewer1">
    <br><br>

    <label>Notes:</label>
    <textarea id="notes" style="width:100%;height:80px;"></textarea>
    <br><br>

    <button onclick="submitDecision('ACCEPT')">ACCEPT</button>
    <button onclick="submitDecision('REJECT')">REJECT</button>
</div>

<script>
    async function submitDecision(decision) {
        const cp = document.getElementById("cp").value;
        const rid = document.getElementById("rid").value;
        const notes = document.getElementById("notes").value;

        const resp = await fetch("http://127.0.0.1:8000/human-review/decision", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                checkpoint_id: cp,
                decision: decision,
                reviewer_id: rid,
                notes: notes
            })
        });

        const data = await resp.json();
        alert(JSON.stringify(data, null, 2));
    }
</script>

</body>
</html>
